<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Ромхакинг NES. Окно Hex Editor</title>
		<meta name="description" content="Описание содержимого окна Hex Editor в эмуляторе FCEUX. A description of Hex Editor window's content">
		<meta name="keywords" content="">
		<link rel="icon" href="https://cyneprepou4uk.github.io/iromhacker/favicon.png" type="image/png">
		<link href="https://cyneprepou4uk.github.io/iromhacker/style.css" rel="stylesheet">
		<script src="https://cyneprepou4uk.github.io/iromhacker/analytics.js"></script>
	</head>
	<body>
		<h1>Окно Hex Editor</h1>
		<p>
			<center>
				<a class="return" href="https://cyneprepou4uk.github.io/iromhacker/nes/ru/index.html">Вернуться на главную страницу</a>
			</center>
		</p>
		<p class="content">
			Содержание
		</p>
		<ul>
			<li>Окно Hex Editor</li>
			<li><a href="../2/index.html">Вкладка View</a></li>
			<li><a href="../3/index.html">Заморозка RAM адресов</a></li>
			<li><a href="../4/index.html">Прочие возможности окна</a></li>
		</ul>
		<h2>Описание окна</h2>
		<p>
			Окно открывается в эмуляторе FCEUX в Debug -> Hex Editor (или горячей клавишей). Если ROM не запущен в эмуляторе, окно открыть не получится.
		</p>
		<p>
			<img src="1.png">
		</p>
		<p class="tip">
			Окно автоматически закрывается при закрытии ROM'а.
		</p>
		<p>
			По умолчанию открыто View -> NES Memory, где отображена память процессора. Hex Editor отображает данные игры на текущий момент. Обновление происходит ежекадрово в конце кадра.
		</p>
		<p class="tip">
			Данные дополнительно будут обновляться каждый раз, когда Debugger ставит эмулятор на паузу, например после срабатывания брейкпоинта или при нажатии в нем определенных кнопок.
		</p>
		<p class="tip">
			Исключением ежекадрового обновления является область View -> ROM File. Она обновляется только при взаимодействии пользователя с окном Hex Editor.
		</p>
		<h3>Содержимое окна</h3>
		<p>
			Выбери опцию для отображения информации по содержимому окна.
		</p>
		<p>
			<table class="tab" border=1 cellspacing=1 cellpadding=5>
				<tr>
					<td class="tabLink" onclick="openTab(event, 'Address')">Адреса</td>
					<td class="tabLink" onclick="openTab(event, 'Byte')">Байты</td>
					<td class="tabLink" onclick="openTab(event, 'Encoding')">Кодировка</td>
					<td class="tabLink" onclick="openTab(event, 'Info')">Информация в названии окна</td>
				</tr>
			</table>
		</p>
		<p>
			<div id="Address" class="tabcontent">
				<h2>Адреса</h2>
				<p>
					Слева находятся начальные адреса строки.
				</p>
				<p>
					<img src="2.png">
				</p>
				<p>
					В середине в каждой строке по 16 адресов, в каждом адресе 1 байт.
				</p>
				<p>
					<img src="3.png">
				</p>
			</div>
		</p>
		<p>
			<div id="Byte" class="tabcontent">
				<h2>Байты</h2>
				<p class="tip">
					Переменные в адресах при запуске ROM'а зависят от опции эмулятора Config -> RAM Init.
				</p>
				<p>
					Байт, который после обновления окна изменил свое значение относительно предыдущего значения, имеет цветную подсветку. Это помогает отследить любые изменения, в частности при просмотре адресов RAM.
				</p>
				<p>
					<img src="https://i.imgur.com/EkmKh08.gif"><!--0011-->
				</p>
				<p class="tip">
					Подсветку байтов можно настроить во вкладке Highlighting.
				</p>
				<p class="tip">
					Если эмулятор стоит на паузе, можно сбросить текущую подсветку байтов, если прокрутить содержимое окна вверх/вниз колесом мыши или ползунком справа.
				</p>
				<p>
					Так как окно обновляется лишь 1 раз за кадр, ты не увидишь всех возможных изменений байта, происходяших на протяжении кадра, а только самое последнее. А если байт был изменен, но под конец кадра игра записала точно такой же байт, какой был на предыдущем кадре, подсветки и вовсе не будет.
				</p>
				<p>
					Байты можно выделять и копировать/вставлять через Ctrl + C/Ctrl + V (или через вкладку Edit). Также байты можно изменять вручную, это приведет к различным последсвтиям, которые будут описаны в подразделах вкладки View.
				</p>
				<p class="tip">
					Если ввести только 1 символ байта, это не изменит байт в адресе. Отменить такой ввод нельзя, даже кликнув по другому адресу, и он будет висеть до тех пор, пока ты не введешь второй символ. Если переключиться на другой адрес и ввести второй символ, то байт запишется в этот самый адрес, а не в тот, куда ты собирался записать его изначально.
				</p>
				<p class="tip">
					Копирование слишком большого количества байтов может привести к временному подвисанию эмулятора.
				</p>
			</div>
		</p>
		<p>
			<div id="Encoding" class="tabcontent">
				<h2>Кодировка</h2>
				<p>
					Справа отображена кодировка байтов, по умолчанию ASCII. Выбранный адрес подсвечивается черным и в кодировке справа.
				</p>
				<p>
					<img src="4.png">
				</p>
				<p class="tip">
					Кодировку можно изменить, подготовив .tbl файл и подгрузив его через File -> Load *.TBL File. 
				</p>
				<p>
					Символы кодировки можно копировать из кодировки, а также вставлять символы в эту область.
				</p>
				<p class="tip">
					Если вставить символы кодировки в область с адресами, это будет расценено как вставка байтов, и лишние символы будут удалены.
				</p>
				<p class="tip">
					Копировать символы кириллицы из этой области нужно со включенной русской раскладкой клавиатуры, иначе будут скопированы кракозябры. Отправил <a href="https://github.com/TASVideos/fceux/issues/89" target="_blank">багрепорт</a> разработчику.
				</p>
			</div>
		</p>
		<p>
			<div id="Info" class="tabcontent">
				<h2>Информация в названии окна</h2>
				<p>
					Выбранный адрес отображается в названии окна (без лишних нулей слева и с префиксом 0x). Также указан тип памяти этого адреса, в зависимости от режима вкладки View и самого адреса.
				</p>
				<p>
					<img src="5.png">
				</p>
				<p>
					При выделении мышкой сразу нескольких адресов, в названии окна будет указан выделенный диапазон адресов, а в скобках - количество выделенных адресов в системе счисления HEX.
				</p>
				<p>
					<img src="6.png">
				</p>
				<p class="tip">
					Количество выделенных адресов можно использовать для определения байта, который нужно записать в качестве операнда у инструкции условного перехода.
				</p>
			</div>
		</p>
		<script src="https://cyneprepou4uk.github.io/iromhacker/spoiler.js"></script>
		<script src="https://cyneprepou4uk.github.io/iromhacker/tab.js"></script>
	</body>
</html>
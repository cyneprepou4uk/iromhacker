<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>ЯРомхакеръ. Ромхакинг NES. Hex Editor. Прочие возможности окна</title>
		<meta name="description" content="Описание возможности вкладки File, закладок, окна поиска и файла кодировки (table file) в окне Hex Editor эмулятора FCEUX">
		<meta name="keywords" content="">
		<link rel="icon" href="https://iromhacker.ru/favicon.png" type="image/png">
		<link href="https://iromhacker.ru/style.css" rel="stylesheet">
		<script src="https://iromhacker.ru/analytics.js"></script>
		<script src="//code.jivosite.com/widget/7SGDoRReEj" async></script>
	</head>
	<body>
		<h1>Прочие возможности окна</h1>
		<p>
			<center>
				<a class="return" href="https://iromhacker.ru/nes/ru/index.html">Вернуться на главную страницу</a>
			</center>
		</p>
		<br>
		<br>
		<p class="content">
			Содержание
		</p>
		<ul>
			<li><a href="../1/index.html">Окно Hex Editor</a></li>
			<li><a href="../2/index.html">Вкладка View</a></li>
			<li><a href="../3/index.html">Заморозка RAM адресов</a></li>
			<li>Прочие возможности окна</li>
		</ul>
		<h2>Прочие возможности окна</h2>
		<p>
			Выбери опцию из списка, чтобы посмотреть по ней подробную информацию.
		</p>
		<p>
			<table class="tab" border=1 cellspacing=1 cellpadding=5>
				<tr>
					<td class="tabLink" onclick="openTab(event, 'File')">Вкладка File</td>
					<td class="tabLink" onclick="openTab(event, 'Bookmarks')">Закладки</td>
					<td class="tabLink" onclick="openTab(event, 'Find')">Окно Find</td>
					<td class="tabLink" onclick="openTab(event, 'TBL')">Файл .tbl</td>
				</tr>
			</table>
		</p>
		<p>
			<div id="File" class="tabcontent">
				<h2>Вкладка File</h2>
				<p>
					<img src="5.png">
				</p>
				<h3>Save ROM</h3>
				<p>
					Сохраняет измененный файл. Измененные байты, подсвеченные красным цветом в ROM File, окончательно запишутся в файл и снова станут черными, что не позволит отменить проделанные изменения.
				</p>
				<h3>Save ROM As</h3>
				<p>
					Сохраняет изменнный файл с предложением выбрать имя файлу, тем самым создав отдельный файл с изменениями. Красные байты в ROM File останутся красными с возможностью отмены, даже если сохранить в тот же самый файл.
				</p>
				<h3>Load/Unload *.TBL File</h3>
				<p class="tip">
					Подробнее про файл .tbl читай в подразделе.
				</p>
				<h4>Load *.TBL File</h4>
				<p>
					Загружает файл .tbl, с помощью которого можно изменить кодировку, используемую при отображении байтов текстом в окне Hex Editor.
				</p>
				<h4>Unload *.TBL File</h4>
				<p>
					Выгружает файл .tbl, возвращая кодировку на стандартную. Опция становится доступной только при предварительно загруженном файле.
				</p>
				<h3>Dump to file</h3>
				<p>
					Создание файла .bin, состоящего из байтов выбранного в опциях диапазона. Эти файлы можно будет открыть любым Hex-редактором, а также использовать в некоторых сторонних программах.
				</p>
				<p class="tip">
					Чтобы получить максимально точную информацию из адресов, нужно создавать файл во время паузы эмулятора, например после срабатывания брейкпоинта.
				</p>
				<h4>RAM</h4>
				<p>
					NES Memory $0000-$07FF.
				</p>
				<h4>PPU Memory</h4>
				<p>
					PPU Memory $0000-$3FFF. Может быть использован в тайловых редакторах, так как содержит в себе информацию о тайлах, фоне и палитре.
				</p>
				<h4>OAM Memory</h4>
				<p>
					OAM Memory $0000-$00FF.
				</p>
				<h4>6502 64K</h4>
				<p>
					NES Memory $0000-$FFFF.
				</p>
				<h3>Load from file</h3>
				<p>
					Копирует байты из файла .bin в указанное место. Описание опций смотри выше.
				</p>
				<p class="tip">
					Если файл больше размера выбранного диапазона, будут скопирован лишь максимально возможный диапазон. Если файл меньше размера диапазона, появится сообщение об ошибке, и байты скопированы не будут.
				</p>
				<h3>GoTo Address</h3>
				<p>
					Окно Goto позволяет перейти на нужный адрес. Оно вызывается через Ctrl + A (или Ctrl + G).
				</p>
				<p>
					<img src="6.png">
				</p>
				<p>
					В названии окна указан диапазон адресов текущего режима вкладки View. Введи адрес, нажми OK или Enter, и тебя перекинет на этот адрес.
				</p>
				<p class="tip">
					Адрес не обязательно вводить заглавными буквами. Лишние нули слева можно опустить или наоборот, добавить. Можно вводить адрес с префиксом 0x.
				</p>
				<p class="tip">
					При вводе недопустимого символа, все символы справа от него, включая неверный, будут удалены при вычислении адреса во время попытки перехода. Если же самый первый символ неверный, или если превысить лимит диапазона, тебя перекинет на самый последний адрес.
				</p>
				<h3>Close</h3>
				<p>
					Закрывает окно Hex Editor как после нажатия красного крестика.
				</p>
			</div>
		</p>
		<p>
			<div id="Bookmarks" class="tabcontent">
				<h2>Закладки</h2>
				<p>
					Закладки можно добавлять на любой адрес в Hex Editor'е. Кликни по адресу правой кнопкой и выбери Add/Remove bookmark.
				</p>
				<p>
					<img src="7.png">
				</p>
				<p class="tip">
					Если попытаться добавить закладки на выделенный диапазон адресов, закладка будет добавлена лишь на первый адрес этого диапазона.
				</p>
				<h3>Имя закладки</h3>
				<p>
					В появившемся окне будет предложено изменить имя закладки. После добавления переименовать ее уже не получится.
				</p>
				<p>
					<img src="8.png">
				</p>
				<p class="tip">
					Даже если закрыть окно через красный крестик, закладка все равно будет добавлена.
				</p>
				<h3>Подсветка закладки</h3>
				<p>
					Добавленная закладка выделяет байт в адресе зеленым цветом. Однако у цвета закладки низкий приоритет, и он будет перекрываться синим от заморозки и разноцветным при изменении байта в адресе.
				</p>
				<p>
					<img src="10.png">
				</p>
				<p class="tip">
					Можно использовать закладку не как закладку, а просто как пометку некого адреса зеленым цветом.
				</p>
				<h3>Переход к закладке</h3>
				<p>
					Переход к закладке осуществляется во вкладке Bookmarks. На первые 10 закладок есть быстрый переход комбинацией Ctrl + цифра. Hex Editor при переходе переключится на соответствующий режим во вкладке в View.
				</p>
				<p>
					<img src="9.png">
				</p>
				<h3>Удаление закладки</h3>
				<p>
					Чтобы удалить закладку, снова кликни правой кнопкой по этому адресу и выбери Add/Remove Bookmark. Чтобы удалить сразу все закладки, выбери Bookmarks -> Remove all bookmarks и подтверди действие.
				</p>
				<h3>Хранение закладок</h3>
				<p>
					Список закладок сохраняется в одноименном файле .deb, который создается/обновляется после закрытия эмулятора.
				</p>
				<p>
					<img src="11.png">
				</p>
				<p class="tip">
					В этом файле также хранятся некоторые данные из окна Debugger, подробнее читай в разделе с этим окном.
				</p>
			</div>
		</p>
		<p>
			<div id="Find" class="tabcontent">
				<h2>Окно Find</h2>
				<p>
					Окно вызывается через Edit -> Find или комбинацией Ctrl + F.
				</p>
				<p>
					<img src="12.png">
				</p>
				<p>
					Поиск будет осуществляться по выбранной области во вкладке View. В поле ввода Find What можно записать сразу несколько байтов/символов. Кликни на кнопку Find Next или нажми Enter для попытки поиска. Текущий найденный результат подсвечивается как при выделении мышкой этих адресов.
				</p>
				<p class="tip">
					Есть встроенное ограничение по количеству автоматически выделенных символов, но это не влияет на результат поиска.
				</p>
				<h3>Опции поиска</h3>
				<p>
					В разделе Type ты выбираешь тип данных - байты (опция Hex) или текст/символы (опция Text).
				</p>
				<p>
					В разделе Direction выбираешь направление поиска - вверх (опция Up) или вниз (опция Down).
				</p>
				<p class="tip">
					Попытавшись искать байты с опцией Text, или текст с опцией Hex, окно Find выдаст ошибку Invalid String (неверный ввод).
				</p>
				<h3>Поиск Hex</h3>
				<p>
					При выборе опции Hex, поиск будет искать байты в адресах. Байты не обязательно записывать заглавными буквами.
				</p>
				<p>
					<img src="13.png">
				</p>
				<p class="tip">
					Если ввести нечетное количество символов, последний символ справа не будет учитываться при поиске.
				</p>
				<h3>Поиск Text</h3>
				<p>
					Если выбрана опция Text, поиск будет работать с кодировкой байтов в правой части окна. Поиск текста чувствителен к регистру (строчные и заглавные буквы).
				</p>
				<p>
					<img src="14.png">
				</p>
				<p class="tip">
					Поиск текста технически является поиском соответствующих байтов. Если у одного и того же символа существует несколько вариантов байтов (например у символа точки в кодировке по умолчанию), поиск текста будет искать лишь самый младший из них, из-за чего он может и не найти желаемого результата.
				</p>
				<p class="tip">
					Если подключить свою кодировку через файл .tbl, текс будет искаться с учетом новой кодировки.
				</p>
				<h3>Результаты поиска</h3>
				<p>
					Если существует 2 и более результатов поиска, то нажимая на кнопку Find Next, Hex Editor будет переключаться между этими результатами в ту сторону, которая была выбрана в разделе Direction.
				</p>
				<p>
					Если вообще никаких результатов не было найдено, будет сообщение String Not Found (результатов не найдено).
				</p>
				<p class="tip">
					Это сообщение вылезет и в том случае, если существует всего 1 результат поиска, начальный адрес которого уже выделен в Hex Editor'е (или выделен как первый адрес диапазона).
				</p>
			</div>
		</p>
		<p>
			<div id="TBL" class="tabcontent">
				<h2>Файл .tbl</h2>
				<p>
					Table file (таблица кодировки) - текстовый файл с расширением .tbl, в котором хранится информация о том, как именно нужно отображать байты текстом. Содержимое файла выглядит как "байт" + "=" + "символ". Каждый байт должен быть записан с новой строки.
				</p>
				<p>
					<img src="16.png">
				</p>
				<p>
					В качестве символа после "=" могут быть цифры, строчные и заглавные буквы, и некоторые другие символы.
				</p>
				<p class="tip">
					Старая версия эмулятора не поддерживает символы кириллицы. Кодировка файла должна быть ANSI.
				</p>
				<h3>Номера символов</h3>
				<p>
					Чтобы узнать какой байт в игре отвечает за какой символ, открой PPU Viewer во вкладке Debug, наведи курсор на нужный тайл, и номер этого тайла отобразится внизу рядом со словом Tile.
				</p>
				<p>
					<img src="15.png">
				</p>
				<p>
					Довольно часто заглавные буквы английского алфавита начинаются с #$41, цифры с #$30, а пробел = #$20, поскольку такой формат соответствует основным видам кодировок.
				</p>
				<p class="tip">
					В некоторых играх, которые переключают банки с тайлами, может быть несколько наборов символов под разными номерами, в зависимости от того, какой банк был подключен и в какую область он был подключен. В таком случае может понадобиться создание нескольких .tbl файлов под все эти ситуации.
				</p>
				<p>
					Выяснив байты символов, записываешь их в свой файл. После символа "=" можно записывать лишь 1 символ, остальные будут игнорироваться. А если ничего не записывать, символ будет отображаться в Hex Editor'е как точка.
				</p>
				<p class="tip">
					Для более удобного создания .tbl файла воспользуйся специальной программой, например <a href="https://www.romhacking.net/utilities/709" target="_blank">Oriton</a>, описание работы с которой будет на главной странице.
				</p>
				<h3>Подключение файла</h3>
				<p>
					Подключив созданный файл в Hex Editor'е через вкладку File, ты изменишь отображение кодировки на свою, что неплохо помогает увидеть текст, который находится в игре.
				</p>
				<p>
					<img src="https://i.imgur.com/6jS3KTo.gif"><!--0014-->
				</p>
				<p class="tip">
					Если в файл составлен некорректно, вылезет сообщение об ошибке с указанием того, на какой линии обнаружена первая ошибка. Предыдуший файл .tbl, если он был ранее загружен, будет выгружен из Hex Editor'а.
				</p>
				<h3>Поиск текста</h3>
				<p>
					После подключения файла ты можешь пользоваться поиском по тексту, который будет учитывать твою кодировку, или просто просматривать области NES Memory, PPU Memory и ROM File в поисках текста. Это также упрощает ввод текста при переводе игр, если вводить текст в правую часть окна Hex Editor'а вместо ввода соответствующих байтов.
				</p>
				<p class="tip">
					Если символ, который ты пытаешься ввести, не указан в файле .tbl, символ не будет введен. Добавь символ в файл, переоткрой его в Hex Editor'е и попробуй снова.
				</p>
				<p class="tip">
					В файл можно добавлять собственные обозначения определенных байтов, используемых игрой при работе с текстом. Например, если байт #$F0 отвечает за перенос текста на новую строку, можно записать в файле F0=/, а затем записывать символ "/" при необходимости переноса дальнейшего текста на новую строку.
				</p>
			</div>
		</p>
		<script src="https://iromhacker.ru/spoiler.js"></script>
		<script src="https://iromhacker.ru/tab.js"></script>
	</body>
</html>

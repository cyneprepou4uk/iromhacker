<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Ромхакинг NES. Окно PPU Viewer</title>
		<meta name="description" content="Описание возможностей окна для просмотра тайлов и спрайтов. A description of window capability for displaying tiles and sprites">
		<meta name="keywords" content="">
		<link rel="icon" href="https://iromhacker.ru/favicon.png" type="image/png">
		<link href="https://iromhacker.ru/style.css" rel="stylesheet">
		<script src="https://iromhacker.ru/analytics.js"></script>
	</head>
	<body>
		<h1>Окно PPU Viewer</h1>
		<p>
			<center>
				<a class="return" href="https://iromhacker.ru/nes/ru/index.html">Вернуться на главную страницу</a>
			</center>
		</p>
		<h2>Окно PPU Viewer</h2>
		<p>
			Окно открывается в эмуляторе FCEUX через Debug -> PPU Viewer (или горячей клавишей).
		</p>
		<p>
			<img src="1.png">
		</p>
		<p>
			Содержимое окна отображает текущие тайлы и палитру из видеопамяти PPU Memory. Данные обновляются 1 раз за кадр. Конкретное время в пределах кадра указывается в опции Display on scanline.
		</p>
		<p class="tip">
			Технические подробности про тайлы и палитру узнаешь в разделе с графикой.
		</p>
		<p>
			Для просмотра информации по окну выбери соответствующую опцию.
		</p>
		<p>
			<table class="tab" border=1 cellspacing=1 cellpadding=5>
				<tr>
					<td class="tabLink" onclick="openTab(event, 'Window')">Тайлы и палитра</td>
					<td class="tabLink" onclick="openTab(event, 'Other')">Прочие функции окна</td>
				</tr>
			</table>
		</p>
		<p>
			<div id="Window" class="tabcontent">
				<h2>Тайлы и палитра</h2>
				<h3>Тайлы</h3>
				<p>
					Окно поделено на 2 части. Левая часть отображает тайлы из адресов $0000-$0FFF, а правая - $1000-$1FFF. Одна из них хранит тайлы фона, а другая - тайлы для спрайтов. Это определяется регистром видеопроцессора $2000.
				</p>
				<p>
					При наведении курсора на тайл, внизу окна рядом со словом Tile показывается номер тайла HEX-числом.
				</p>
				<p>
					<img src="https://i.imgur.com/7i4cYyW.gif"><!--0053-->
				</p>
				<h3>Палитра</h3>
				<p>
					Верхняя строчка отображает палитру для фона по адресам $3F00-$3F0F, нижняя - палитру для спрайтов по адресам $3F10-$3F1F. В каждой строчке по 4 набора цвета, которые используются для окраски фона/спрайтов.
				</p>
				<p>
					При наведении курсора на палитру, рядом со словом Palettes выводится байт, находящийся по данному адресу.
				</p>
				<p>
					<img src="https://i.imgur.com/2AdpNWc.gif"><!--0054-->
				</p>
				<p>
					Если кликать правой кнопкой на левой/правой части окна с тайлами, эти тайлы будут отображаться с соответствующим набором цвета. Набор выбирается по порядку, по умолчанию используется первый набор.
				</p>
				<p>
					<img src="https://i.imgur.com/A4pTjaz.gif"><!--0059-->
				</p>
				<p>
					Всего 8 наборов + 1 предустановленный черно-белый, который может помочь посмотреть тайлы, когда в игре выбирается черная палитра и затемняется экран.
				</p>
			</div>
		</p>
		<p>
			<div id="Other" class="tabcontent">
				<h2>Прочие функции окна</h2>
				<h3>Sprites 8x16 mode</h3>
				<p>
					Некоторые игры, например Battle City, выводят на экран спрайты размером 8x16, а не 8x8. Это определяется регистром видеопроцессора $2000. При переключении опции тайлы в окне будут отображены в соответствующем режиме.
				</p>
				<p>
					<img src="https://i.imgur.com/6beQ6jG.gif"><!--0057-->
				</p>
				<p>
					Если ты не можешь разобрать тайлы, которые видишь в окне, попробуй включить эту опцию.
				</p>
				<h3>Code/Data Logger</h3>
				<p>
					При работе с этим окном будут доступны следующие 2 опции.
				</p>
				<h4>Mask unused graphics</h4>
				<p>
					Отображает тайлы, которые были использованы игрой на протяжении работы окна Code/Data Logger. Если точнее, то неиспользуемые тайлы будут затемнены, а подсветка используемых остается без изменений.
				</p>
				<p>
					<img src="https://i.imgur.com/OayGaoS.gif"><!--0055-->
				</p>
				<p>
					Если окно Code/Data Logger в данный момент закрыто или неактивно, включение галочки ни на что не влияет.
				</p>
				<h4>Invert the mask</h4>
				<p>
					Опция становится доступной для выбора только при включенной опции Mask unused graphics. Инвертирует отображение использованных тайлов, то есть с этой опцией подсвечиваются те тайлы, которые еще не были использованы.
				</p>
				<p>
					<img src="https://i.imgur.com/BNWmZlr.gif"><!--0056-->
				</p>
				<h3>Refresh</h3>
				<p>
					Ползунок позволяет регулировать частоту обновления окна от частого (More) до редкого (Less). Помогает снизить нагрузку на слабом компьютере.
				</p>
				<p>
					<img src="2.png">
				</p>
				<h3>Display on scanline</h3>
				<p>
					Некоторые игры могут на протяжении кадра подключать другие банки с тайлами на какой-то определенной линии экрана. Обычно это делается для того, чтобы отобразить статусбар вверху/внизу экрана новыми тайлами, или чтобы просто иметь возможность использовать большее количество тайлов для отрисовки фона/спрайтов.
				</p>
				<p>
					Если правильно подобрать номер сканлинии, можно посмотреть какую графику игра будет подключать. В большинстве случаев подойдет число 200.
				</p>
				<p>
					В примере игра переключает первые 64 тайла, которыми отрисовывается статусбар.
				</p>
				<p>
					<img src="https://i.imgur.com/ccNdJf2.gif"><!--0058-->
				</p>
			</div>
		</p>
		<script src="https://iromhacker.ru/spoiler.js"></script>
		<script src="https://iromhacker.ru/tab.js"></script>
	</body>
</html>
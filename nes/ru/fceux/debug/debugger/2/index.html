<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Ромхакинг NES. Регистры и флаги в окне Debugger</title>
		<meta name="description" content="Что такое регистры процессора в эмуляторе FCEUX. A description of registers and flags in Debugger window. What is a register and flag">
		<meta name="keywords" content="">
		<link rel="icon" href="https://iromhacker.ru/favicon.png" type="image/png">
		<link href="https://iromhacker.ru/style.css" rel="stylesheet">
		<script src="https://iromhacker.ru/analytics.js"></script>
	</head>
	<body>
		<h1>Регистры и флаги</h1>
		<p>
			<center>
				<a class="return" href="https://iromhacker.ru/nes/ru/index.html">Вернуться на главную страницу</a>
			</center>
		</p>
		<p class="content">
			Содержание
		</p>
		<ul>
			<li><a href="../1/index.html">Окно Debugger</a></li>
			<li>Регистры и флаги</li>
			<li><a href="../3/index.html">Брейкпоинты</a></li>
			<ul>
				<li><a href="../3-1/index.html">Создание брейкпоинтов</a></li>
				<ul>
					<li><a href="../3-1-1/index.html">Типы брейкпоинтов</a></li>
					<li><a href="../3-1-2/index.html">Дополнительные условия</a></li>
				</ul>
				<li><a href="../3-2/index.html">Прочие типы брейкпоинтов</a></li>
			</ul>
			<li><a href="../4/index.html">Кнопки для отладки кода</a></li>
			<li><a href="../5/index.html">Добавление комментариев</a></li>
			<ul>
				<li><a href="../5-1/index.html">Файлы комментариев</a></li>
			</ul>
			<li><a href="../6/index.html">Редактирование кода и данных</a></li>
			<li>Прочая информация в окне и его возможности</li>
		</ul>
		<br>
		<h2>Регистры и флаги</h2>
		<p>
			Значения регистров и состояния флагов хранятся в файлах сохранений эмулятора.
		</p>
		<p class="tip">
			Подробнее про регистры и флаги читай в разделах с инструкциями процессора.
		</p>
		<h3>Регистры A, X и Y</h3>
		<p>
			Здесь отображены байты, которые в данный момент находятся в каждом из трех регистров.
		</p>
		<p>
			<img src="1.png">
		</p>
		<p class="tip">
			Регистр A - аккумулятор. X и Y - индексные регистры.
		</p>
		<p>
			Во время паузы эмулятора можно вручную перезаписывать байты в этих регистрах, что повлияет на результат работы инструкций, которым необходим байт в одном из этих регистров.
		</p>
		<p>
			<img src="https://i.imgur.com/JVQfKWN.gif"><!--0007-->
		</p>
		<p class="tip">
			В адреса записываются байты, которые были вписаны вручную, а не те, которые изначально были загружены в регистры сответствующими инструкциями.
		</p>
		<h3>Status</h3>
		<p>
			Регистр статуса процессора (P) - регистр флагов. Здесь отображены состояния 8-ми различных флагов.
		</p>
		<p>
			<img src="2.png">
		</p>
		<p>
			Если галочка не стоит, это означает что состояние флага = 0. Если галочка стоит - состояние флага = 1.
		</p>
		<p class="tip">
			Все 8 флагов технически являются одним 8-битным регистром. Каждый бит этого регистра отвечает за определенный флаг.
		</p>
		<p>
			Кликая по галочкам, можно вручную менять состояние флагов на 0 или 1 во время паузы эмулятора, что повлияет на работу инструкций, результат которых зависит от состояния определенных флагов.
		</p>
		<p>
			<img src="https://i.imgur.com/Xe6oOob.gif"><!--0008-->
		</p>
		<p class="tip">
			После выполнения инструкции BEQ должен быть переход на адрес $8110 при условии Z = 1, однако подменив вручную состояние флага Z на 0, условие инструкции не выполнится и перехода не будет.
		</p>
		<h3>Program Counter</h3>
		<p>
			Регистр PC, который содержит в себе адрес выполняемой инструкции из NES Memory. Адрес указан рядом с кнопкой Seek PC.
		</p>
		<p>
			<img src="4.png">
		</p>
		<p>
			Во время паузы эмулятора можно вручную менять адрес, по которому будет выполняться следующая инструкция.
		</p>
		<p class="tip">
			Подробнее читай в статье с кнопками для отладки кода.
		</p>
		<h3>Stack Pointer</h3>
		<p>
			Регистр указателя стека (SP). Стек располагается в NES Memory $0100-$01FF. Информация по стеку видна здесь.
		</p>
		<p>
			<img src="3.png">
		</p>
		<p>
			Справа от слова Stack показан адрес (указатель), в который будет помещен байт при следующем использовании стека. Под этим адресом отображен список байтов, которые находятся в диапазоне $0100-$01FF справа от этого указателя стека.
		</p>
		<p class="tip">
			Байт из текущего адреса $0176 не отображается в списке. Байт #$7D находится по соседнему адресу $0177.
		</p>
		<p class="tip">
			Если указатель стека = $01FF, то байты в списке не отображаются, поскольку адреса выше $01FF не относятся к стеку.
		</p>
		<p class="tip">
			Адрес SP нельзя изменить вручную. Он изменяется только при выполнении некоторых инструкций.
		</p>
		<script src="https://iromhacker.ru/spoiler.js"></script>
		<script src="https://iromhacker.ru/tab.js"></script>
	</body>
</html>
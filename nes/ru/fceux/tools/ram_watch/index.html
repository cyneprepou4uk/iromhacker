<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Ромхакинг NES. Окно RAM Watch</title>
		<meta name="description" content="Подробное описание окна для слежения за адресами. A detailed description of the window for watching RAM addresses">
		<meta name="keywords" content="">
		<link rel="icon" href="https://iromhacker.ru/favicon.png" type="image/png">
		<link href="https://iromhacker.ru/style.css" rel="stylesheet">
		<script src="https://iromhacker.ru/analytics.js"></script>
	</head>
	<body>
		<h1>RAM Watch</h1>
		<p>
			<center>
				<a class="return" href="https://iromhacker.ru/nes/ru/index.html">Вернуться на главную страницу</a>
			</center>
		</p>
		<h2>RAM Watch</h2>
		<p>
			Окно RAM Watch предназначено в основном для слежения за значениями адресов, которые ты добавляешь в список окна. Оно открывается в эмуляторе FCEUX через Tools -> RAM Watch (или горячей клавишей).
		</p>
		<p>
			<img src="1.png">
		</p>
		<p class="tip">
			Окно привязано к главному окну эмулятора. Если свернуть окно эмулятора, окно RAM Watch также будет свернуто. А если свернуть окно RAM Watch отдельно, оно окажется в левом нижнем углу, а не в панели задач Windows.
		</p>
		<p>
			Содержимое окна отображает байты в адресах, добавленных в список. Для слежения можно добавлять любые адреса RAM диапазона $0000-$07FF. Обновление данных происходит ежекадрово в конце кадра.
		</p>
		<p class="tip">
			Данные не обновляются при работе с Debugger'ом во время паузы эмулятора, в отличие от данных в окне Hex Editor.
		</p>
		<p>
			При закрытии окна эмулятора тебе предложат сохранить изменения списка, если таковые имеются.
		</p>
		<h3>Работа с окном</h3>
		<p>
			Выбери опцию из списка, чтобы посмотреть подробную информацию.
		</p>
		<p>
			<table class="tab" border=1 cellspacing=1 cellpadding=5>
				<tr>
					<td class="tabLink" onclick="openTab(event, 'Add')">Добавление адресов</td>
					<td class="tabLink" onclick="openTab(event, 'Buttons')">Описание кнопок</td>
					<td class="tabLink" onclick="openTab(event, 'File')">Меню File</td>
				</tr>
			</table>
		</p>
		<p>
			<div id="Add" class="tabcontent">
				<h2>Добавление адресов</h2>
				<p>
					Адреса добавляются кнопкой New, которая активна всегда. Появится окно редактирования адреса Edit Watch.
				</p>
				<p>
					<img src="2.png">
				</p>
				<p>
					В список нельзя добавлять 2 одинаковых адреса с одинаковыми опциями. Однако можно добавить один и тот же адрес несколько раз, если выбранные опции между ними не будут повторяться.
				</p>
				<h3>Адрес</h3>
				<p>
					Здесь ты выбираешь адрес, который отобразится в списке, и пометку для этого адреса.
				</p>
				<p>
					<img src="3.png">
				</p>
				<h4>Address</h4>
				<p>
					В этом поле ввода указывается адрес, который будет добавлен в список. Можно добавлять только адреса в диапазоне $0000-$07FF. При попытке добавить другие адреса окно сообщит об ошибке.
				</p>
				<p>
					Адреса можно записывать без лишних нулей слева, а также строчными буквами (они автоматически будут записаны заглавными). Все неподдерживаемые символы будут удалены при сохранении адреса.
				</p>
				<p class="tip">
					Если самый первый или ни один из веденных символов не поддерживается, например при попытке добавить адрес AC русскими буквами, итоговый адрес будет $0000.
				</p>
				<h4>Notes</h4>
				<p>
					При желании добавь пометку к адресу, которая появится в главном окне в графе Notes. Поддерживаются символы кириллицы.
				</p>
				<p class="tip">
					Notes не относится к тем опциям, благодаря которым можно добавлять один и тот же адрес несколько раз.
				</p>
				<h3>Data Type</h3>
				<p>
					В этом разделе указывается тип данных, который будет отображен в главном окне в графе Value.
				</p>
				<p>
					<img src="4.png">
				</p>
				<h4>Signed</h4>
				<p>
					Десятичные знаковые числа. Байты от #$00 до #$7F отобразятся как от 0 до 127, а байты от #$80 до #$FF отобразятся как от -128 до -1.
				</p>
				<p class="tip">
					За знаковость отвечает старший бит отображаемого байта. Номер старшего бита зависит от опции Data Size.
				</p>
				<h4>Unsigned</h4>
				<p>
					Десятичные беззнаковые числа. Байты от #$00 до #$FF отобразятся как от 0 до 255.
				</p>
				<h4>Hexadecimal</h4>
				<p>
					Стандартные шестнадцатеричные числа, как они выглядят в окне Hex Editor.
				</p>
				<h4>Binary</h4>
				<p>
					Отображение байта как набор из 8-ми битов.
				</p>
				<p class="tip">
					Опции Binary не существует в старой версии эмулятора.
				</p>
				<h3>Data Size</h3>
				<p>
					Размер отображаемых данных в графе Value. Редко используемая опция, обычно нужно оставлять по умолчанию 1 byte.
				</p>
				<p>
					<img src="5.png">
				</p>
				<p>
					Таблица с расшифровкой опций, <a href="https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%80%D1%8F%D0%B4%D0%BE%D0%BA_%D0%B1%D0%B0%D0%B9%D1%82%D0%BE%D0%B2" target="_blank">порядок</a> отображаемых байтов и поддержка Binary Data Type.
				</p>
				<p>
					<table class="tab" border=1 cellspacing=1 cellpadding=5>
						<tr>
							<td>Data Size</td>
							<td>Кол-во битов</td>
							<td>Порядок байтов</td>
							<td>Binary</td>
						</tr>
						<tr>
							<td>1 byte</td>
							<td>8 бит</td>
							<td>Big-endian</td>
							<td>Да</td>
						</tr>
						<tr>
							<td>2 bytes</td>
							<td>16 бит</td>
							<td>Little-endian</td>
							<td>Нет</td>
						</tr>
						<tr>
							<td>4 bytes</td>
							<td>32 бита</td>
							<td>Big-endian</td>
							<td>Нет</td>
						</tr>
					</table>
				</p>
				<p>
					В примере рассматривается адрес $0100. В RAM находятся следующие байты:
				</p>
				<p>
					<img src="6.png">
				</p>
				<p>
					Для опции 2 и 4 bytes берутся соседние адреса. Результат отображения адреса $0100 с опцией Hexadecimal Data Type:
				</p>
				<p>
					<img src="7.png">
				</p>
			</div>
		</p>
		<p>
			<div id="Buttons" class="tabcontent">
				<h2>Описание кнопок</h2>
				<p>
					Некоторые кнопки становятся активными лишь после клика на адрес из списка. Однако если закрыть окно и открыть повторно, почти все неактивные кнопки станут активными, но они все равно не будут работать, если адрес из списка не был предварительно выделен.
				</p>
				<p>
					Адрес выделяется кликом по нему. Для выделения нескольких разных адресов удерживай кнопку Ctrl перед кликом. Для выделения диапазона адресов сначала кликни на первый адрес диапазона, а затем, удерживая кнопку Shift, кликни на последний адрес диапазона (либо удерживай Shift и жми клавишу вверх/вниз).
				</p>
				<p>
					Горячие клавиши для кнопок смотри во вкладке Watches. Изменить их нельзя. Клавиши U и D означают стрелки Up (вверх) и Down (вниз) на клавиатуре.
				</p>
				<p class="tip">
					Некоторые кнопки вызывают окно Edit Watch, подробности про него читай в подразделе с добавлением адресов.
				</p>
				<h3>Стрелки</h3>
				<p>
					Перемещают по списку выделенный адрес/разделительную полоску на 1 строку вверх/вниз. Нельзя перемещать сразу несколько адресов.
				</p>
				<h3>Edit</h3>
				<p>
					Позволяет отредактировать выделенный адрес/разделительную полоску, вызвав окно Edit Watch.
				</p>
				<h3>Remove</h3>
				<p>
					Удаляет выделенные адреса/разделительные полоски из списка.
				</p>
				<h3>New</h3>
				<p>
					Вызывает окно Edit Watch для создания нового адреса.
				</p>
				<h3>Duplicate</h3>
				<p>
					Дублирует выделенный адрес/разделительную полоску. Вызывает окно Edit Watch, в которое будут скопированы его параметры.
				</p>
				<p>
					Если не изменять параметры адреса, сохранить его не получится, так как уже существует аналогичный адрес. Однако разделительную полоску можно дублировать с таким же именем.
				</p>
				<h3>Separator</h3>
				<p>
					Создает разделительную полоску в конце списка адресов. Вызывает окно Edit Watch, в которой можно дать имя полоске (не обязательно). Поддерживаются символы кириллицы. Текст будет отображен синим цветом.
				</p>
				<p>
					<img src="8.png">
				</p>
				<p class="tip">
					Если сохранить разделители в файле .wch, то при следующем запуске эмулятора и подгрузке файла .wch со списком адресов, символы в строке будут смещены вверх. Отправил <a href="https://github.com/TASVideos/fceux/issues/101" target="_blank">багрепорт</a> разработчику.
				</p>
				<p class="tip">
					В старой версии эмулятора нельзя дать имя разделителю, и отображается он в списке немного иначе.
				</p>
				<h3>Add Cheat</h3>
				<p>
					Замораживает в адресе байт/число, который в данный момент отображается в графе Value. Такой адрес выделяется светло-фиолетовым цветом. Если в списке существует несколько одинаковых адресов, будет выделен каждый из них.
				</p>
				<p>
					<img src="9.png">
				</p>
				<p class="tip">
					При работе с Debugger'ом на паузе эмулятора, отображаемый байт в окне RAM Watch может отличаться от того, который в данный момент находится в Hex Editor'е.
				</p>
				<p class="tip">
					Если в разделе Data Size была выбрана опция 2 или 4 bytes, байты будут заморожены в соответствующем диапазоне адресов. Причем чем больше адресов диапазона оказываются замороженными, тем более темным будет выделение.
				</p>
				<p>
					Разморозить адрес можно лишь через окно Hex Editor или Cheats, после чего выделение адреса пропадет. Изменить замороженный байт можно только в окне Cheats.
				</p>
			</div>
		</p>
		<p>
			<div id="File" class="tabcontent">
				<h2>Меню File</h2>
				<p>
					<img src="10.png">
				</p>
				<p>
					Список адресов для слежения при желании можно сохранить в файле .wch. Файл открывается текстовым редактором.
				</p>
				<p>
					В этом подразделе рассказывается про особенности открытия/сохранения файла, а также про другие возможности окна.
				</p>
				<h3>New list</h3>
				<p>
					Полностью очищает список адресов и разделителей. Окно предложит предварительно сохранить изменения, если ты что-то делал с текущим списком адресов.
				</p>
				<h3>Open</h3>
				<p>
					Позволяет подгрузить файл .wch. Если ты что-то делал с текущим списком адресов, то после выбора файла окно предложит сохранить изменения. 
				</p>
				<h3>Save</h3>
				<p>
					Сохранить изменения в одноименный файл .wch в папке с игрой (предварительно подтвердив имя файла), либо мгновенное сохранение в тот файл, который на данный момент уже открыт.
				</p>
				<p class="tip">
					Если при использовании опции Auto-load появилась ошибка про открытие файла, игра сохранит изменения в файл (предварительно создав его), который она пыталась открыть.
				</p>
				<p class="tip">
					Однажды при попытке сохранить пустой файл эмулятор вылетел с ошибкой. Повторно воспроизвести пока не удалось.
				</p>
				<h3>Save As</h3>
				<p>
					Сохранить изменения с выбором имени файла.
				</p>
				<h3>Append file</h3>
				<p>
					К текущему списку добавляются данные из файла .wch, с предварительным выбором этого файла. Добавленный список адресов из файла появятся внизу текущего списка. Однако если какие-то из добавленных адресов совпадают по параметрам с уже существующими в списке, то они будут проигнорированы.
				</p>
				<p class="tip">
					Данная опция не считается изменением списка с точки зрения окна RAM Watch, и без дополнительных изменений списка окно не предложит сохранить изменения перед закрытием эмулятора или открытием другого файла. А также при выборе опции Save файл не перезапишется, его нужно перезаписывать через Save As.
				</p>
				<h3>Recent</h3>
				<p>
					Здесь отображается список файлов .wch, которые были задействованы в последний раз. Список обновляется сразу при создании/использовании файла.
				</p>
				<p>
					Выбор файла из списка по механике аналогичен опции Open, но без ручного поиска файла в проводнике.
				</p>
				<h3>Auto-load</h3>
				<p>
					При включении данной опции окно RAM Watch будет открываться автоматически, и подгружать файл .wch, который был использован в последний раз, независимо от игры. Если файла не существует, появится сообщение об ошибке.
				</p>
				<p>
					<img src="11.png">
				</p>
				<p>
					Выбрав OK, игра попробует загружать следующие файлы из списка Recent. Если нажать Отмена, или если игре так и не удалось найти другие файлы, откроется окно RAM Watch с пустым списком.
				</p>
				<p>
					Если предыдущая попытка найти файл провалилась, и новый файл не был создан, окно с ошибкой в следующий раз не появится из-за очищенного списка Recent.
				</p>
				<h3>Save Window Position</h3>
				<p>
					Включает сохранение координат позиции окна на экране. При закрытии окна эмулятор запоминает его положение, и в следующий раз оно откроется в том же месте.
				</p>
				<p>
					По умолчанию окно открывается справа от эмулятора. Если не хватает места до правого края экрана, то откроется слева.
				</p>
				<h3>Close</h3>
				<p>
					Закрывает окно RAM Watch как после нажатия красного крестика. Однако после закрытия окна текущий список адресов остается нетронутым, и он отобразится если повторно открыть окно.
				</p>
			</div>
		</p>
		<script src="https://iromhacker.ru/spoiler.js"></script>
		<script src="https://iromhacker.ru/tab.js"></script>
	</body>
</html>